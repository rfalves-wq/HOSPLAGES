<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Agendamentos - Recepção</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<style>
body {background-color: #f1f8ff; font-family: Arial, sans-serif;}
.container {max-width: 900px; margin: 50px auto; padding: 30px; background-color: #fff; border-radius: 10px; box-shadow: 0 0 15px rgba(0,0,0,0.1);}
.logo {display: block; margin: 0 auto 20px; width: 120px;}
h2 {text-align: center; color: #0057a0; margin-bottom: 20px;}
.button-group {display: flex; justify-content: center; gap: 15px; margin-bottom: 20px;}
.btn-voltar, .btn-logout, .btn-success {background-color:#0072bc; color:#fff; border:none; padding:10px 25px; border-radius:5px; font-weight:bold; text-decoration:none; text-align:center;}
.btn-voltar:hover, .btn-logout:hover, .btn-success:hover {background-color:#0057a0; color:#fff;}
.table th, .table td {vertical-align: middle;}
</style>
</head>
<body>
<div class="container">
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Logo_do_SUS.svg/2560px-Logo_do_SUS.svg.png" class="logo" alt="Logo SUS">
    <h2>Agendamentos - {{ user.username }}</h2>

    <!-- Grupo de botões alinhados -->
    <div class="button-group">
        <a href="../recepcao" class="btn-voltar">Voltar para Início</a>
        <a href="{% url 'logout' %}" class="btn-logout">Sair</a>
        <a href="{% url 'agendamento_create' %}" class="btn btn-success">Novo Agendamento</a>
    </div>

    <!-- Tabela de agendamentos -->
    <table class="table table-bordered">
        <thead class="table-primary">
            <tr>
                <th>Paciente</th>
                <th>Data / Hora</th>
                <th>Status</th>
                <th>Observações</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
        {% for agendamento in agendamentos %}
            <tr>
                <td>{{ agendamento.paciente }}</td>
                <td>{{ agendamento.data_hora|date:"d/m/Y H:i" }}</td>
                <td>{{ agendamento.get_status_display }}</td>
                <td>{{ agendamento.observacoes }}</td>
                <td>
                    {% if agendamento.status != 'TR' %}
                    <a href="{% url 'enviar_triagem' agendamento.id %}" class="btn btn-warning btn-sm">Enviar Triagem</a>
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
</body>
</html>
