<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Relatórios - Recepção</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
<style>
body {background-color: #f1f8ff; font-family: Arial, sans-serif;}
.container {max-width: 900px; margin: 50px auto; padding: 30px; background-color: #fff; border-radius: 10px; box-shadow: 0 0 15px rgba(0,0,0,0.1);}
h2 {text-align: center; color: #0057a0; margin-bottom: 20px;}
.button-group {display: flex; justify-content: center; gap: 15px; margin-bottom: 20px;}
.btn {background-color:#0072bc; color:#fff; border:none; padding:10px 25px; border-radius:5px; font-weight:bold; text-decoration:none; text-align:center;}
.btn:hover {background-color:#0057a0; color:#fff;}
.table th, .table td {vertical-align: middle;}
.filter-group {display:flex; gap:15px; justify-content:center; margin-bottom:20px;}
</style>
</head>
<body>
<div class="container">
    <h2>Relatórios - {{ request.user.username }}</h2>

    <!-- Botões -->
    <div class="button-group">
        <a href="../../../recepcao" class="btn">Voltar para Início</a>
        <a href="{% url 'logout' %}" class="btn">Sair</a>
    </div>

    <!-- FILTROS -->
    <form method="get" class="filter-group">
        <input type="date" name="dia" class="form-control" value="{{ dia }}">
        <input type="number" name="mes" class="form-control" placeholder="Mês (1-12)" min="1" max="12" value="{{ mes }}">
        <input type="number" name="ano" class="form-control" placeholder="Ano (ex: 2026)" value="{{ ano }}">
        <button type="submit" class="btn">Buscar</button>
    </form>

    <!-- Tabela de relatório -->
    <table class="table table-bordered">
        <thead class="table-primary">
            <tr>
                <th>Status</th>
                <th>Quantidade de Agendamentos</th>
            </tr>
        </thead>
        <tbody>
        {% if relatorios %}
            {% for status, quantidade in relatorios.items %}
            <tr>
                <td>{{ status }}</td>
                <td>{{ quantidade }}</td>
            </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td colspan="2" class="text-center">Nenhum registro encontrado</td>
            </tr>
        {% endif %}
        </tbody>
    </table>
</div>
</body>
</html>
